<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Predictive Audiogram Questionnaire</title>
  <style>
    /* Enhanced CSS for a modern, professional look */
    body,
    html {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 0;
      margin: 0;
      background-color: #edf2f7;
      color: #333;
    }

    .question input[type="text"],
    .question input[type="number"] {
      width: calc(100%);
      box-sizing: border-box;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #4a5568;
      text-align: center;
      margin-bottom: 20px;
    }

    .question label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #2d3748;
    }

    .question input {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #cbd5e0;
      border-radius: 5px;
      background-color: #f7fafc;
    }

    .question select {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #cbd5e0;
      border-radius: 5px;
      background-color: #f7fafc;
      cursor: pointer;
    }

    .button {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #4c51bf;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #434190;
    }

    .loading-screen {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      margin-top: 10px;
      background-color: #f7fafc;
      border-radius: 8px;
    }

    .loader {
      border: 5px solid #f3f3f3;
      border-radius: 50%;
      border-top: 5px solid #3498db;
      margin-bottom: 15px;
      width: 40px;
      height: 40px;
      animation: spin 2s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .results-display {
      background-color: #e2e8f0;
      padding: 20px;
      margin-top: 10px;
      border-radius: 8px;
      text-align: center;
    }

    .results-display h2 {
      color: #333;
    }

    .results-display p {
      color: #666;
    }

    .recommendationResult {
      background-color: #e2e8f0;
      padding: 20px;
      margin-top: 10px;
      border-radius: 8px;
      text-align: center;
    }

    .recommendationResult h2 {
      color: #333;
    }

    .recommendationResult p {
      color: #666;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }

      .question label {
        margin-bottom: 8px;
      }

      .question input,
      .question select {
        padding: 10px;
      }

      .button {
        padding: 10px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Predictive Audiogram Questionnaire</h1>
    <form id="audiogramForm">
      <!-- Age -->
      <div class="question">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" min="0" required>
      </div>

      <!-- Gender -->
      <div class="question">
        <label for="gender">Gender:</label>
        <select id="gender" name="gender" required>
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <!-- Industry -->
      <div class="question">
        <label for="industry">Occupational Industry:</label>
        <input type="text" id="industry" name="industry" placeholder="e.g., Construction, Healthcare" required>
      </div>

      <!-- 1. Self-Reported Hearing Ability -->
      <div class="question">
        <label for="hearingRating">On a scale from 1 to 6, how would you rate your ability to hear and understand someone speaking to you in a quiet room?</label>
        <select id="hearingRating" name="hearingRating" required>
          <option value="">Select</option>
          <option value="1">1 - Excellent</option>
          <option value="2">2 - Good</option>
          <option value="3">3 - Fair</option>
          <option value="4">4 - Slightly Poor</option>
          <option value="5">5 - Poor</option>
          <option value="6">6 - Very Poor</option>
        </select>
      </div>

      <!-- 2. Exposure to Loud Noises at Work -->
      <div class="question">
        <label for="workNoiseExposure">How many hours per week are you exposed to loud noises at your workplace?</label>
        <select id="workNoiseExposure" name="workNoiseExposure" required>
          <option value="">Select</option>
          <option value="0">0 hours</option>
          <option value="1-5">1-5 hours</option>
          <option value="6-10">6-10 hours</option>
          <option value="11-20">11-20 hours</option>
          <option value="21+">More than 20 hours</option>
        </select>
      </div>

      <!-- 3. Recreational Noise Exposure -->
      <div class="question">
        <label for="headphoneUse">How frequently do you use headphones at a high volume for music, videos, or gaming?</label>
        <select id="headphoneUse" name="headphoneUse" required>
          <option value="">Select</option>
          <option value="Daily">Daily</option>
          <option value="Several times a week">Several times a week</option>
          <option value="Weekly">Weekly</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 4. History of Ear Infections -->
      <div class="question">
        <label for="earInfections">How many times have you had ear infections in the past 2 years?</label>
        <select id="earInfections" name="earInfections" required>
          <option value="">Select</option>
          <option value="None">None</option>
          <option value="1-2">1-2 times</option>
          <option value="3-5">3-5 times</option>
          <option value="6-8">6-8 times</option>
          <option value="9+">More than 9 times</option>
        </select>
      </div>

      <!-- 5. Use of Hearing Protection in Noisy Environments -->
      <div class="question">
        <label for="hearingProtection">When exposed to loud environments (e.g., concerts, factories), how often do you use hearing protection?</label>
        <select id="hearingProtection" name="hearingProtection" required>
          <option value="">Select</option>
          <option value="Always">Always</option>
          <option value="Often">Often</option>
          <option value="Sometimes">Sometimes</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 6. Hearing Aid or Cochlear Implant Usage -->
      <div class="question">
        <label for="hearingAidUse">Do you currently use a hearing aid or cochlear implant in one or both ears?</label>
        <select id="hearingAidUse" name="hearingAidUse" required>
          <option value="">Select</option>
          <option value="Yes, both">Yes, in both ears</option>
          <option value="Yes, one">Yes, in one ear</option>
          <option value="No, used to">No, but I used to</option>
          <option value="Never">Never used</option>
        </select>
      </div>

      <!-- 7. Family History of Hearing Loss -->
      <div class="question">
        <label for="familyHearing">Do you have any immediate family members (parents, siblings) with diagnosed hearing loss?</label>
        <select id="familyHearing" name="familyHearing" required>
          <option value="">Select</option>
          <option value="Yes, more than 1">Yes, more than one</option>
          <option value="Yes, 1">Yes, one family member</option>
          <option value="No">No</option>
          <option value="Unknown">Unknown</option>
        </select>
      </div>

      <!-- 8. Symptoms of Hearing Loss -->
      <div class="question">
        <label for="tinnitusStatus">How often do you experience tinnitus (ringing or buzzing in the ears)?</label>
        <select id="tinnitusStatus" name="tinnitusStatus" required>
          <option value="">Select</option>
          <option value="Constantly">Constantly</option>
          <option value="Frequently">Frequently</option>
          <option value="Occasionally">Occasionally</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 9. Difficulty Understanding Speech in Noisy Environments -->
      <div class="question">
        <label for="noisySituations">In noisy situations, how often do you find it difficult to understand what people are saying?</label>
        <select id="noisySituations" name="noisySituations" required>
          <option value="">Select</option>
          <option value="Always">Always</option>
          <option value="Often">Often</option>
          <option value="Sometimes">Sometimes</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 10. Impact of Hearing Loss on Daily Activities -->
      <div class="question">
        <label for="dailyActivities">To what extent does potential hearing loss impact your daily activities (e.g., conversations, watching TV)?</label>
        <select id="dailyActivities" name="dailyActivities" required>
          <option value="">Select</option>
          <option value="Significantly">Significantly</option>
          <option value="Moderately">Moderately</option>
          <option value="Slightly">Slightly</option>
          <option value="Not at all">Not at all</option>
        </select>
      </div>

      <!-- Submit Questionnaire -->
      <button type="submit" class="button">Submit</button>
    </form>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen" hidden>
      <div class="loader"></div>
      Processing your results, please wait...
    </div>

    <!-- Results Display -->
    <div id="resultsDisplay" class="results-display" hidden>
      <h2>Results</h2>
      <p id="resultText"></p>
    </div>

    <h1>OTC Hearing Aid Recommendation Questionnaire</h1>
    <form id="hearingAidQuestionnaire">
      <!-- 1. Primary Environment -->
      <div class="question">
        <label for="primaryEnvironment">In which type of environment do you find yourself most often needing hearing assistance?</label>
        <select id="primaryEnvironment" name="primaryEnvironment" required>
          <option value="">Select</option>
          <option value="quiet">Quiet settings (e.g., home)</option>
          <option value="social">Social settings (e.g., restaurants, gatherings)</option>
          <option value="outdoor">Outdoor or work-related noisy settings</option>
        </select>
      </div>

      <!-- 2. Tech Preferences -->
      <div class="question">
        <label for="techPreference">What technological feature is a must-have for your hearing aid?</label>
        <select id="techPreference" name="techPreference" required>
          <option value="">Select</option>
          <option value="Bluetooth">Bluetooth connectivity for phone calls/music</option>
          <option value="Rechargeable batteries">Rechargeable batteries</option>
          <option value="Customizable settings">Customizable settings through an app</option>
        </select>
      </div>

      <!-- 3. Technology Compatibility -->
      <div class="question">
        <label for="techCompatibility">Which of these devices do you use regularly and wish to connect with your hearing aid?</label>
        <select id="techCompatibility" name="techCompatibility" required>
          <option value="">Select</option>
          <option value="iPhone/iOS devices">iPhone/iOS devices</option>
          <option value="Android devices">Android devices</option>
          <option value="Neither">Neither</option>
        </select>
      </div>

      <!-- 4. Physical Comfort -->
      <div class="question">
        <label for="comfortPreference">What is your preference for wearing style?</label>
        <select id="comfortPreference" name="comfortPreference" required>
          <option value="">Select</option>
          <option value="ITE">In-the-ear (ITE) for discretion</option>
          <option value="BTE">Behind-the-ear (BTE) for power and battery life</option>
          <option value="Open to suggestions">Open to suggestions based on my needs</option>
        </select>
      </div>

      <!-- 5. Budget Consideration -->
      <div class="question">
        <label for="budget">What is your budget for a hearing aid?</label>
        <select id="budget" name="budget" required>
          <option value="">Select</option>
          <option value="Below $500">Below $500</option>
          <option value="$500 to $1000">$500 to $1000</option>
          <option value="Above $1000">Above $1000</option>
        </select>
      </div>

      <!-- Submit -->
      <button type="submit" class="button">Submit</button>
    </form>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen" hidden>
      <div class="loader"></div>
      Processing your results, please wait...
    </div>

    <!-- Recommendation Display -->
    <div id="recommendationResult" class="recommendationResult" hidden>
      <h2>Results</h2>
      <p id="recommendationText"></p>
    </div>
  </div>

  <script>
    document.getElementById('audiogramForm').addEventListener('submit', function(event) {
      event.preventDefault();
      displayLoadingScreen(true);
      // Collect form data
      const formData = new FormData(event.target);
      const responses = {};
      for (const [key, value] of formData.entries()) {
        responses[key] = value;
      }
      // Evaluate responses to determine result
      let resultMessage = evaluateResponses(responses);
      // Simulate fetch request for demonstration
      setTimeout(() => {
        // Display results after simulated data retrieval
        displayResults({
          result: resultMessage
        });
      }, 2000); // Simulated delay
    });
    document.getElementById('hearingAidQuestionnaire').addEventListener('submit', function(event) {
      event.preventDefault();
      displayLoadingScreen(true);
      // Collect form data
      const formData = new FormData(event.target);
      const environment = formData.get('primaryEnvironment');
      const techPreference = formData.get('techPreference');
      const techCompatibility = formData.get('techCompatibility');
      const comfortPreference = formData.get('comfortPreference');
      const budget = formData.get('budget');
      // Evaluate responses to determine recommendation
      const recommendation = generateRecommendation({
        environment,
        techPreference,
        techCompatibility,
        comfortPreference,
        budget
      });
      // Simulate fetch request for demonstration
      setTimeout(() => {
        // Display results after simulated data retrieval
        displayRecommendation(recommendation);
      }, 2000); // Simulated delay
    });

    function evaluateResponses(responses) {
      // Custom logic to evaluate responses and determine hearing loss risk
      if (responses['hearingRating'] >= 4) {
        return 'Significant hearing loss detected. Immediate consultation recommended.';
      } else if (responses['headphoneUse'] === 'Daily' || responses['workNoiseExposure'] === '21+') {
        return 'Potential risk for hearing loss due to exposure. Recommend hearing protection and regular check-ups.';
      }
      return 'Hearing within normal range. Maintain regular hearing health checks.';
    }

    function displayLoadingScreen(show) {
      const loadingScreen = document.getElementById('loadingScreen');
      loadingScreen.style.display = show ? 'flex' : 'none';
    }

    function displayResults(data) {
      displayLoadingScreen(false);
      const resultsDisplay = document.getElementById('resultsDisplay');
      const resultText = document.getElementById('resultText');
      resultText.innerHTML = data.result;
      resultsDisplay.hidden = false;
    }

    function displayRecommendation(recommendation) {
      displayLoadingScreen(false);
      const recommendationDisplay = document.getElementById('recommendationResult');
      const recommendationText = document.getElementById('recommendationText');
      recommendationText.innerHTML = recommendation;
      recommendationDisplay.hidden = false;
    }

    function generateRecommendation(responses) {
      // Simplified attributes for each model based on potential user preferences
      const models = {
        "Sony CRE-E10": {
          price: 1300,
          type: "Earbud",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Sennheiser ADC": {
          price: 1500,
          type: "RIC",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Jabra Enhance Plus": {
          price: 799,
          type: "Earbud",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Lexie by Bose B2": {
          price: 999,
          type: "RIC",
          techCompatibility: ["iPhone/iOS devices"]
        },
        "Lucid Engage": {
          price: 1000,
          type: "RIC",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "HP Hearing PRO": {
          price: 699,
          type: "Earbud",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Eargo 7": {
          price: 2950,
          type: "CIC",
          techCompatibility: ["iPhone/iOS devices"]
        },
        "Sound World HD75R": {
          price: 500,
          type: "BTE",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Soundwave Sontro": {
          price: 749,
          type: "RIC",
          techCompatibility: ["iPhone/iOS devices", "Android devices"]
        },
        "Go Prime": {
          price: 299,
          type: "ITC",
          techCompatibility: ["Neither"]
        },
      };
      // Evaluate responses and match to models
      let bestMatch = null;
      let maxScore = 0;
      Object.entries(models).forEach(([model, attributes]) => {
        let score = 0;
        // Price scoring
        if (responses.budget === "Below $500" && attributes.price < 500) score += 2;
        else if (responses.budget === "$500 to $1000" && (attributes.price >= 500 && attributes.price <= 1000)) score += 2;
        else if (responses.budget === "Above $1000" && attributes.price > 1000) score += 2;
        // Tech Compatibility scoring
        if (attributes.techCompatibility.includes(responses.techCompatibility)) score += 2;
        // Type preference scoring
        if ((responses.comfortPreference === "ITE" && attributes.type === "Earbud") ||
          (responses.comfortPreference === "BTE" && attributes.type === "BTE") ||
          (responses.comfortPreference === "Open to suggestions" && score > 0)) score += 1;
        if (score > maxScore) {
          maxScore = score;
          bestMatch = model;
        }
      });
      // Generate a recommendation message
      let recommendationReasons = `Based on your preferences for budget, technology compatibility, and physical comfort, we recommend the ${bestMatch}.`;
      return recommendationReasons;
    }
  </script>
</body>

</html>
