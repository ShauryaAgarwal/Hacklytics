<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Predictive Audiogram Questionnaire</title>
  <style>
    /* Enhanced CSS for a modern, professional look */
    body,
    html {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 0;
      margin: 0;
      background-color: #edf2f7;
      color: #333;
    }

    .question input[type="text"],
    .question input[type="number"] {
      width: calc(100%);
      box-sizing: border-box;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #4a5568;
      text-align: center;
      margin-bottom: 20px;
    }

    .question label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #2d3748;
    }

    .question input {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #cbd5e0;
      border-radius: 5px;
      background-color: #f7fafc;
    }

    .question select {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #cbd5e0;
      border-radius: 5px;
      background-color: #f7fafc;
      cursor: pointer;
    }

    .button {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #4c51bf;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #434190;
    }

    .loading-screen,
    .results-display {
      text-align: center;
      padding: 20px;
      margin-top: 20px;
      background-color: #f7fafc;
      border-radius: 8px;
      display: none;
      /* Ready for JS to display */
    }

    .results-display {
      background-color: #e2e8f0;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }

      .question label {
        margin-bottom: 8px;
      }

      .question input,
      .question select {
        padding: 10px;
      }

      .button {
        padding: 10px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Predictive Audiogram Questionnaire</h1>
    <form id="audiogramForm">
      <!-- Age -->
      <div class="question">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" min="0" required>
      </div>

      <!-- Industry -->
      <div class="question">
        <label for="industry">Occupational Industry:</label>
        <input type="text" id="industry" name="industry" placeholder="e.g., Construction, Healthcare" required>
      </div>

      <!-- 1. Self-Reported Hearing Ability -->
      <div class="question">
        <label for="hearingRating">On a scale from 1 to 5, how would you rate your ability to hear and understand someone speaking to you in a quiet room?</label>
        <select id="hearingRating" name="hearingRating" required>
          <option value="">Select</option>
          <option value="1">1 - Very Poor</option>
          <option value="2">2 - Poor</option>
          <option value="3">3 - Fair</option>
          <option value="4">4 - Good</option>
          <option value="5">5 - Excellent</option>
        </select>
      </div>

      <!-- 2. Exposure to Loud Noises at Work -->
      <div class="question">
        <label for="workNoiseExposure">How many hours per week are you exposed to loud noises at your workplace?</label>
        <select id="workNoiseExposure" name="workNoiseExposure" required>
          <option value="">Select</option>
          <option value="0">0 hours</option>
          <option value="1-5">1-5 hours</option>
          <option value="6-10">6-10 hours</option>
          <option value="11-20">11-20 hours</option>
          <option value="21+">More than 20 hours</option>
        </select>
      </div>

      <!-- 3. Recreational Noise Exposure -->
      <div class="question">
        <label for="headphoneUse">How frequently do you use headphones at a high volume for music, videos, or gaming?</label>
        <select id="headphoneUse" name="headphoneUse" required>
          <option value="">Select</option>
          <option value="Daily">Daily</option>
          <option value="Several times a week">Several times a week</option>
          <option value="Weekly">Weekly</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 4. History of Ear Infections -->
      <div class="question">
        <label for="earInfections">How many times have you had ear infections in the past 2 years?</label>
        <select id="earInfections" name="earInfections" required>
          <option value="">Select</option>
          <option value="None">None</option>
          <option value="1-2">1-2 times</option>
          <option value="3-5">3-5 times</option>
          <option value="6-8">6-8 times</option>
          <option value="9+">More than 9 times</option>
        </select>
      </div>

      <!-- 5. Use of Hearing Protection in Noisy Environments -->
      <div class="question">
        <label for="hearingProtection">When exposed to loud environments (e.g., concerts, factories), how often do you use hearing protection?</label>
        <select id="hearingProtection" name="hearingProtection" required>
          <option value="">Select</option>
          <option value="Always">Always</option>
          <option value="Often">Often</option>
          <option value="Sometimes">Sometimes</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 6. Hearing Aid or Cochlear Implant Usage -->
      <div class="question">
        <label for="hearingAidUse">Do you currently use a hearing aid or cochlear implant in one or both ears?</label>
        <select id="hearingAidUse" name="hearingAidUse" required>
          <option value="">Select</option>
          <option value="Yes, both">Yes, in both ears</option>
          <option value="Yes, one">Yes, in one ear</option>
          <option value="No, used to">No, but I used to</option>
          <option value="Never">Never used</option>
        </select>
      </div>

      <!-- 7. Family History of Hearing Loss -->
      <div class="question">
        <label for="familyHearing">Do you have any immediate family members (parents, siblings) with diagnosed hearing loss?</label>
        <select id="familyHearing" name="familyHearing" required>
          <option value="">Select</option>
          <option value="Yes, more than 1">Yes, more than one</option>
          <option value="Yes, 1">Yes, one family member</option>
          <option value="No">No</option>
          <option value="Unknown">Unknown</option>
        </select>
      </div>

      <!-- 8. Symptoms of Hearing Loss -->
      <div class="question">
        <label for="tinnitusStatus">How often do you experience tinnitus (ringing or buzzing in the ears)?</label>
        <select id="tinnitusStatus" name="tinnitusStatus" required>
          <option value="">Select</option>
          <option value="Constantly">Constantly</option>
          <option value="Frequently">Frequently</option>
          <option value="Occasionally">Occasionally</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 9. Difficulty Understanding Speech in Noisy Environments -->
      <div class="question">
        <label for="noisySituations">In noisy situations, how often do you find it difficult to understand what people are saying?</label>
        <select id="noisySituations" name="noisySituations" required>
          <option value="">Select</option>
          <option value="Always">Always</option>
          <option value="Often">Often</option>
          <option value="Sometimes">Sometimes</option>
          <option value="Rarely">Rarely</option>
          <option value="Never">Never</option>
        </select>
      </div>

      <!-- 10. Impact of Hearing Loss on Daily Activities -->
      <div class="question">
        <label for="dailyActivities">To what extent does potential hearing loss impact your daily activities (e.g., conversations, watching TV)?</label>
        <select id="dailyActivities" name="dailyActivities" required>
          <option value="">Select</option>
          <option value="Significantly">Significantly</option>
          <option value="Moderately">Moderately</option>
          <option value="Slightly">Slightly</option>
          <option value="Not at all">Not at all</option>
        </select>
      </div>

      <!-- Submit Questionnaire -->
      <button type="submit" class="button">Submit</button>
    </form>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
      Processing your results, please wait...
    </div>

    <!-- Results Display -->
    <div id="resultsDisplay" class="results-display">
      <!-- Placeholder for results -->
    </div>
  </div>

  <script>
    document.getElementById('audiogramForm').addEventListener('submit', function(event) {
      event.preventDefault();
      displayLoadingScreen(true);
      // Collect form data
      const formData = new FormData(event.target);
      const responses = {};
      for (const [key, value] of formData.entries()) {
        responses[key] = value;
      }
      // Evaluate responses to determine result (this is a simplified example)
      let resultMessage = evaluateResponses(responses);
      // Simulate fetch request for demonstration
      setTimeout(() => {
        // Display results after simulated data retrieval
        displayResults({
          result: resultMessage
        });
      }, 2000); // Simulated delay
    });

    function evaluateResponses(responses) {
      // Custom logic to evaluate responses and determine hearing loss risk
      // This is a placeholder - replace with your own logic
      if (responses['hearingRating'] <= 2) {
        return 'Significant hearing loss detected. Immediate consultation recommended.';
      } else if (responses['headphoneUse'] === 'Daily' || responses['workNoiseExposure'] === '21+') {
        return 'Potential risk for hearing loss due to exposure. Recommend hearing protection and regular check-ups.';
      }
      return 'Hearing within normal range. Maintain regular hearing health checks.';
    }

    function displayLoadingScreen(show) {
      const loadingScreen = document.getElementById('loadingScreen');
      loadingScreen.style.display = show ? 'block' : 'none';
    }

    function displayResults(data) {
      displayLoadingScreen(false);
      const resultsDisplay = document.getElementById('resultsDisplay');
      resultsDisplay.innerHTML = `<strong>Result:</strong> ${data.result}`;
      resultsDisplay.style.display = 'block';
    }
  </script>
</body>

</html>
